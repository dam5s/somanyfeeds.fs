<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netcoreapp2.2</TargetFramework>
    <OutputType>Exe</OutputType>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="BCrypt.Net-Next.StrongName" Version="3.1.2" />
    <PackageReference Include="FSharp.Control.AsyncSeq" Version="2.0.21" />
    <PackageReference Include="DotLiquid" Version="2.0.298" />
    <PackageReference Include="Suave" Version="2.5.3" />
    <PackageReference Include="Suave.DotLiquid" Version="2.5.3" />
    <PackageReference Include="Chiron" Version="6.3.1" />
    <PackageReference Include="Npgsql" Version="4.0.4" />

    <ProjectReference Include="../prelude/prelude.fsproj" />
    <ProjectReference Include="../feeds-processing/feeds-processing.fsproj" />

    <Compile Include="SoManyFeedsServer/Json.fs" />
    <Compile Include="SoManyFeedsServer/DataSource.fs" />
    <Compile Include="SoManyFeedsServer/Passwords.fs" />
    <Compile Include="SoManyFeedsServer/FeedsDataGateway.fs" />
    <Compile Include="SoManyFeedsServer/FeedsService.fs" />
    <Compile Include="SoManyFeedsServer/ArticlesDataGateway.fs" />
    <Compile Include="SoManyFeedsServer/UsersDataGateway.fs" />
    <Compile Include="SoManyFeedsServer/ErrorPage.fs" />
    <Compile Include="SoManyFeedsServer/Authentication.fs" />
    <Compile Include="SoManyFeedsServer/UserArticlesDataGateway.fs" />
    <Compile Include="SoManyFeedsServer/UserArticlesService.fs" />
    <Compile Include="SoManyFeedsServer/FeedsApi.fs" />
    <Compile Include="SoManyFeedsServer/ArticlesApi.fs" />
    <Compile Include="SoManyFeedsServer/ReadPage.fs" />
    <Compile Include="SoManyFeedsServer/ManagePage.fs" />
    <Compile Include="SoManyFeedsServer/DataAccess.fs" />
    <Compile Include="SoManyFeedsServer/FeedsProcessor.fs" />
    <Compile Include="SoManyFeedsServer/WebApp.fs" />
    <Compile Include="SoManyFeedsServer/Config.fs" />
    <Compile Include="Tasks.fs" />
    <Compile Include="Program.fs" />
  </ItemGroup>

  <ItemGroup>
    <Resources Include="Resources/**" />
  </ItemGroup>

  <Target Name="CopyResources" AfterTargets="Publish">
    <Copy SourceFiles="@(Resources)" DestinationFiles="@(Resources->'$(PublishDir)/Resources/%(RecursiveDir)%(Filename)%(Extension)')" />
  </Target>
</Project>
